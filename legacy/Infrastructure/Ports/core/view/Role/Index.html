<!--Layout={_layout.html}-->

<script type="text/javascript" src="{Resources}/scripts/js-core/jquery.roles.js"></script>

<div class="container">

	<h2>Roles</h2>

	<div class="table-responsive">
		<table class="table table-striped table-bordered">
			<thead>
				<tr>
					<th>#</th>
					<th>Nombre</th>
					<th>Descripción</th>
					<th>
						<a class="btn btn-primary btn-xs"
							role="button"
							title="Crear nuevo Role"
							data-toggle="modal"
							data-target="#modalRole"
							onclick="clearRoleData();" >Nuevo</a>
					</th>
				</tr>
			</thead>
			<tbody>
				<!--Entities-->
				<tr>
					<td>{item.Id}</td>
					<td>{item.Name}</td>
					<td title="{item.Title}" >{item.Description}</td>
					<td>
						<a href=""
							class="btn btn-primary btn-xs"
							data-id="{item.Id}"
							data-name="{item.Name}"
							data-desc="{item.Title}"
							data-toggle="modal"
							data-target="#modalRole"
							onclick="setRoleData(this);"
							title="Editar Role" ><span class="glyphicon glyphicon-pencil" ></span>
						</a>

						<a href="{Path}/Role/Services/{item.Id}"
							class="btn btn-primary btn-xs"
							title="Servicios Asociados" ><span class="glyphicon glyphicon-list-alt" ></span>
						</a>

						<a href=""
							class="btn btn-danger btn-xs"
							title="Eliminar Role"
							data-toggle="modal"
							data-target="#modal"
							data-title="Eliminar"
							data-msg="¿Desea eliminar el role?"
							data-id="{item.Id}"
							data-selector="#btnDelete"
							data-url="{Path}/Role/Delete/"
							onclick="setDataModal(this);" ><span class="glyphicon glyphicon-remove" ></span>
						</a>
					</td>
				</tr>
				<!--Entities-->
			</tbody>
		</table>
	</div><!-- end table-responsive -->
</div><!-- end container -->

<!-- ventana modal para eliminar-->
<div id="modalRole" class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span><span class="sr-only">Cerrar</span>
				</button>
				<h4 class="modal-title">Role</h4>
			</div>

			<!-- Formulario -->
			<form id="frmRole"
				action="{Path}/Role/Save"
				data-success="{Path}/Role/GetRoles"
				method="post"
				role="form"
				onsubmit="saveRole(this);" >

				<div class="modal-body">
					<input type="hidden" name="Id" value="0" />
					<div class="form-group {eNameClass}">
						<label>Nombre</label>
						<input type="text"
							name="Name"
							class="form-control"
							maxlength="50"
							placeHolder="Administrador"
							required="required" />
						<p id="eName" class="help-block" data-msg="Introduzca un nombre para el role. " >
							Introduzca un nombre para el role. {eName}
						</p>
					</div>
					<div class="form-group {eDescClass}">
						<label>Descripción</label>
						<textarea name="Description"
							class="form-control"
							maxlength="500"
							placeHolder="Administra y configura...."
							required="required"
							rows="6" ></textarea>
						<p id="eDesc" class="help-block" data-msg="Indique una breve descripción sobre el role. " >
							Indique una breve descripción sobre el role. {eDesc}
						</p>
					</div>
					<div class="form-group {eResultClass}">
						<p id="eResult" class="help-block" data-msg=" " >{eResult}</p>
					</div>
				</div>
				<div class="modal-footer">
					<button type="button"
						class="btn btn-default"
						data-dismiss="modal" >Cancelar</button>
					<button type="submit"
						class="btn btn-primary"
						onclick="javacript:void(0);" >Guardar</button>
				</div>
			</form>
			<!-- Formulario fin -->
		</div><!-- /.modal-content -->
	</div><!-- /.modal-dialog -->
</div><!-- /.modal -->
