<?xml version="1.0" encoding="UTF-8"?>
<description>
    <database name="" server="" user="" password="" scheme="" />
    <objects>

        <object type="table" name="auth_view" entity="AuthEntity" >
            <attribute name="idUser" property ="IdUser" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idRole" property ="IdRole" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="username" property ="Username" dataType="string"
                       required="true" maxLength="50"  columnType="normal"/>
            <attribute name="password" property ="Password" dataType="string"
                       required="true" maxLength="128" columnType="normal"/>
            <attribute name="rolename" property ="Role" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="svrname" property ="Service" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="idProject" property ="IdProject" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <object type="table" name="project_filter" entity="ProjectInfo" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="name" property ="Name" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="description" property ="Description"
                       dataType="string" required="true" maxLength="500"
                       columnType="normal"/>
            <attribute name="path" property ="Path" dataType="string"
                       required="true" maxLength="500" columnType="normal"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="fk"/>
            <attribute name="idUser" property ="IdUser" dataType="int"
                       required="true" columnType="fk"/>
            <attribute name="date" property ="Date" dataType="string"
                       required="true" maxLength="500" columnType="normal"/>
            <attribute name="username" property ="Username" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="active" property ="Active" dataType="int"
                       required="false" columnType="normal"/>
        </object>

        <object type="table" name="users" entity="User" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="username" property ="Username" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="password" property ="Password" dataType="string"
                       required="true" maxLength="128" columnType="normal"/>
            <attribute name="active" property ="Active" dataType="int"
                       required="false" columnType="normal"/>
        </object>

        <object type="table" name="roles" entity="Role" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="name" property ="Name" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="description" property ="Description"
                       dataType="string" required="true" maxLength="500"
                       columnType="normal"/>
            <attribute name="active" property ="Active" dataType="int"
                       required="false" columnType="normal"/>
        </object>

        <object type="table" name="services" entity="Service" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="name" property ="Name" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="path" property ="Path" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="platform" property ="Platform" dataType="string"
                       required="true" maxLength="200" columnType="normal"/>
            <attribute name="description" property ="Description"
                       dataType="string" required="true" maxLength="500"
                       columnType="normal"/>
            <attribute name="active" property ="Active" dataType="int"
                       required="false" columnType="normal"/>
        </object>

        <object type="table" name="projects" entity="Project" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="name" property ="Name" dataType="string"
                       required="true" maxLength="50" columnType="normal"/>
            <attribute name="description" property ="Description"
                       dataType="string" required="true" maxLength="500"
                       columnType="normal"/>
            <attribute name="path" property ="Path" dataType="string"
                       required="true" maxLength="500" columnType="normal"/>
            <attribute name="date" property ="Date" dataType="string"
                       required="true" maxLength="500" columnType="normal"/>
            <attribute name="active" property ="Active" dataType="int"
                       required="false" columnType="normal"/>
        </object>

        <object type="table" name="project_services" entity="ProjectServices" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="idProject" property ="IdProject" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <object type="table" name="service_roles" entity="ServiceRole" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idRole" property ="IdRole" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <object type="table" name="project_users" entity="ProjectUsers" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="idProject" property ="IdProject" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idUser" property ="IdUser" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <object type="table" name="user_role_service" entity="UserRoleService" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="idUser" property ="IdUser" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idRole" property ="IdRole" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <object type="table" name="user_role_service_project"
                entity="UserRoleServiceProject" >
            <attribute name="id" property ="Id" dataType="int" required="true"
                       columnType="pk-auto"/>
            <attribute name="idUser" property ="IdUser" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idService" property ="IdService" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idRole" property ="IdRole" dataType="int"
                       required="true" columnType="normal"/>
            <attribute name="idProject" property ="IdProject" dataType="int"
                       required="true" columnType="normal"/>
        </object>

        <!-- Entidad para la configuración de notificaciones -->
        <object type="table" name="notification_config"
                entity="NotificationConfig" >
            <attribute name="notification_config_id" property="Id"
                       dataType="int" required="true" columnType="pk-auto"/>
            <attribute name="notification_config_project" property="Project"
                       dataType="int" required="true" columnType="fk"/>
            <attribute name="notification_config_service" property="Service"
                       dataType="int" required="true" columnType="fk"/>
            <attribute name="notification_config_subject" property="Subject"
                       dataType="string" required="true" maxLength="100"
                       columnType="normal"/>
            <attribute name="notification_config_subject_text" property="Text"
                       dataType="string" required="true" maxLength="200"
                       columnType="normal"/>
            <attribute name="notification_config_from" property="From"
                       dataType="string" required="true" maxLength="100"
                       columnType="normal"/>
            <attribute name="notification_config_to" property="To"
                       dataType="string" required="true" maxLength="100"
                       columnType="normal"/>
            <attribute name="notification_config_template" property="Template"
                       dataType="string" required="true" columnType="normal"/>
            <attribute name="notification_config_state" property="State"
                       dataType="int" required="true" columnType="normal"/>
        </object>

        <!-- Entidad registro de notificación -->
        <object type="table" name="notifications" entity="Notification" >
            <attribute name="notifications_id" property ="Id" dataType="int"
                       required="true" columnType="pk-auto" />
            <attribute name="notifications_project" property ="Project"
                       dataType="int" required="true" columnType="fk" />
            <attribute name="notifications_service" property ="Service"
                       dataType="int" required="true" columnType="fk" />
            <attribute name="notifications_to" property ="To" dataType="string"
                       required="true" maxLength="100" columnType="normal" />
            <attribute name="notifications_subject" property ="Subject"
                       dataType="string" required="true" maxLength="500"
                       columnType="normal" />
            <attribute name="notifications_header" property ="Header"
                       dataType="string" required="true" columnType="normal" />
            <attribute name="notifications_content" property ="Content"
                       dataType="string" required="true" columnType="normal" />
            <attribute name="notifications_date" property ="Date"
                       dataType="string" required="true" columnType="normal" />
            <attribute name="notifications_dispatched" property ="Dispatched"
                       dataType="int" required="false" columnType="normal" />
        </object>

        <!-- DTO para el envío de las notificaciones -->
        <object type="view" name="notification_dtos" entity="NotificationDTO" >
            <attribute name="notifications_project" property="Project"
                       dataType="int" required="true" columnType="fk"/>
            <attribute name="notifications_service" property="Service"
                       dataType="int" required="true" columnType="fk"/>
            <attribute name="notifications_to" property="To" dataType="string"
                       required="false" columnType="normal"/>
            <attribute name="notifications_subject" property="Subject"
                       dataType="string" required="false" columnType="normal"/>
            <attribute name="notifications_content" property="Content"
                       dataType="string" required="false" columnType="normal"/>
            <attribute name="notifications_dispatched" property="Dispatched"
                       dataType="int" required="false" columnType="normal"/>
            <attribute name="notification_config_subject" property="confSubject"
                       dataType="string" required="false" columnType="normal"/>
            <attribute name="notification_config_subject_text"
                       property="confSubjectText" dataType="string"
                       required="false" columnType="normal"/>
            <attribute name="notification_config_from" property="From"
                       dataType="string" required="false" columnType="normal"/>
            <attribute name="notification_config_to" property="confTo"
                       dataType="string" required="false" columnType="normal"/>
            <attribute name="notification_config_template"
                       property="confTemplate" dataType="string"
                       required="false" columnType="normal"/>
            <attribute name="notification_config_state" property="confState"
                       dataType="int" required="false" columnType="normal"/>
        </object>

    </objects>
</description>
